#### 트랜잭션이란?
>작업의 단위를 의미한다.  
>중간에 끊이지 않고 하나로 묶어서 동작하는 작업  

### 예시  
유명한 예시임  
A가 B한테 송금중  
A가 B에 돈을 보내는 과정을 정리하면  
1. A의 계좌에 돈이 있는지 확인  
2. A의 계좌에서 10000원을 차감  
3. B의 계좌에 10000원을 입금  

여기서 B의 계좌에 입금 단계에서 오류가 일어났을경우  
돈이 입금되지 않았지만 돈이 빠져나가는 불일치가 존재하게됨  
그래서 이를 트랜잭션으로 묶게됨  

## 트랜잭션의 특성
| 특성  | 의미                             |
| --- | ------------------------------ |
| 원자성 | 전부 commit or 전부 rollback       |
| 일관성 | 데이터베이스는 실행 전후에 상태가 같아야함        |
| 고립성 | 독립적으로 실행되어야함                   |
| 지속성 | 무조건 commit인경우 DB에 저장되어 오류나도 적용 |

# Sping에서의 Transactional
### propagation
propagation으로 트랜잭션이 실행중인 경우 어떻게 처리할지를 정할수 있음
- REQUIRED: 있으면 기존 트랜잭션에 합류
- REQUIRES_NEW: 무조건 새로운 트랜잭션 생성
- NEVER: 트랜잭션 있으면 터짐
- NESTED: 부모 트랜잭션내에 새 트랜잭션을 중첩시킴.(이경우 부모에서 rollback되면 자식도 rollback, 역은 성립 X)
등등 존재
### readOnly
readonly는 기본적으로 false이다.  
true가 되는 경우 JPA의 세션플러시모드를 MANUAL로 설정한다.  
즉 flush를 호출하지않으면 반영이 안되는 **읽기모드**라는 말이다.  
또한 **더티체킹**(값이 바뀌면 자동으로 UPDATE해주는 기능)도 작동하지 않아 메모리가 절약된다.  
### timeout
시간제한이다. 트랜잭션이 정해둔 시간동안 실행되지 않으면 트랜잭션을 rollback한다.  

# 정리
트랜잭션은 끊이지 않아야하는 작업의 단위를 말한다.  
propagation, readOnly, timeout 등으로 spring에서 여러 트랜잭션의 속성을 지정할수 있다.  
